{"version":3,"sources":["components/SidebarData.js","components/SubMenu.js","components/Sidebar.js","pages/Menu.js","components/Error.js","pages/Login.js","components/CargarExcel.js","components/VerActuaciones.js","pages/CargarActuaciones.js","routes/Routes.js","index.js"],"names":["SidebarData","title","icon","path","subNav","SidebarLink","styled","Link","SidebarLabel","span","DropdownLink","SubMenu","item","useState","subnav","setSubnav","to","onClick","iconOpened","iconClosed","map","index","key","SidebarNav","nav","sidebar","Sidebar","setSidebar","showSidebar","Provider","value","color","className","Menu","props","Cookies","Error","mensaje","Login","componente","cookies","error","guardarError","mail","password","form","setForm","handleChange","e","console","log","target","name","iniciarSesion","a","axios","get","then","response","data","respuesta","set","id","history","push","catch","htmlFor","type","onChange","CargarExcel","config","headers","archivo","setArchivo","msgOut","guardarMsgOut","msgOutBoolOK","setMsgOutBoolOK","msgOutBoolKO","setMsgOutBoolKO","insertarArchivos","f","FormData","append","post","subirArchivos","files","class","VerActuaciones","handlePageClick","selectedPage","selected","offset","state","perPage","setState","currentPage","loadMoreData","peticionGet","slice","pageCount","Math","ceil","length","orgtableData","tableData","modalInsertar","modalInsertat","bind","this","tipoModal","Table","responsive","actuacion","idDdTipoActuaciones","claveObra","fecha","toLocaleDateString","sentido","calzada","gestion","Intl","NumberFormat","format","importe","faEdit","size","faTrashAlt","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","Modal","isOpen","ModalHeader","style","display","float","ModalBody","ModalFooter","Component","CargarActuaciones","marginLeft","marginRight","marginTop","App","exact","component","ReactDOM","render","StrictMode","Routes","document","getElementById"],"mappings":"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","file":"static/js/main.3da718e5.chunk.js","sourcesContent":["import React from 'react';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\nimport CarRepairIcon from '@mui/icons-material/CarRepair';\r\nimport StorageIcon from '@mui/icons-material/Storage';\r\nimport LibraryBooksIcon from '@mui/icons-material/LibraryBooks';\r\nimport ShowChartIcon from '@mui/icons-material/ShowChart';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\r\n\r\n\r\nexport const SidebarData = [\r\n    {\r\n        title: \"Home\", \r\n        icon: <HomeIcon />,\r\n        path: '/menu',\r\n    },\r\n    {\r\n        title: \"Gestión Tramos\", \r\n        icon: <DirectionsCarIcon />,\r\n        path: '/menu',\r\n\r\n        subNav: [\r\n            {\r\n                title: \"Importar grafo/tramos\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Ver/Editar carreteras y tramos\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Ver/Editar diccionarios de tramos\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Importar Aforos\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Ver aforos\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Importar actuaciones\",\r\n                path:'/CargarActuaciones'\r\n            },\r\n            {\r\n                title: \"Crear actuación\",\r\n                path:'/menu'\r\n            },\r\n            {\r\n                title: \"Ver actuaciones\",\r\n                path:'/menu'\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        title: \"Gestión Auscultación\", \r\n        icon: <CarRepairIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"Consulta Datos\", \r\n        icon: <StorageIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"Clasificaciones\", \r\n        icon: <LibraryBooksIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"M. Evolución\", \r\n        icon: <ShowChartIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"Administración\", \r\n        icon: <AdminPanelSettingsIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"Documentación\", \r\n        icon: <DescriptionIcon />,\r\n        path: '/menu'\r\n    },\r\n    {\r\n        title: \"Cerrar Sesión\", \r\n        icon: <ExitToAppIcon />,\r\n        path: '/'\r\n    },\r\n];","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst SubMenu = ({ item }) => {\r\n\r\n  const [subnav, setSubnav] = useState(false);\r\n\r\n  const showSubnav = () => setSubnav(!subnav);\r\n\r\n  return (\r\n    <>\r\n      <SidebarLink to={item.path} onClick={item.subNav && showSubnav}>\r\n        <div>\r\n          {item.icon}\r\n          <SidebarLabel>{item.title}</SidebarLabel>\r\n        </div>\r\n        <div>\r\n          {item.subNav && subnav\r\n            ? item.iconOpened\r\n            : item.subNav\r\n            ? item.iconClosed\r\n            : null}\r\n        </div>\r\n      </SidebarLink>\r\n      {subnav &&\r\n        item.subNav.map((item, index) => {\r\n          return (\r\n            <DropdownLink to={item.path} key={index}>\r\n              {item.icon}\r\n              <SidebarLabel>{item.title}</SidebarLabel>\r\n            </DropdownLink>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst SidebarLink = styled(Link)`\r\n  display: flex;\r\n  color: #e1e9fc;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px;\r\n  list-style: none;\r\n  height: 60px;\r\n  text-decoration: none;\r\n  font-size: 18px;\r\n  &:hover {\r\n    background: #252831;\r\n    border-left: 4px solid #632ce4;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst SidebarLabel = styled.span`\r\n  margin-left: 16px;\r\n`;\r\n\r\nconst DropdownLink = styled(Link)`\r\n  background: #414757;\r\n  height: 60px;\r\n  padding-left: 3rem;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  color: #f5f5f5;\r\n  font-size: 18px;\r\n  &:hover {\r\n    background: #632ce4;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default SubMenu;","import React, { useState } from 'react';\r\nimport '../css/Sidebar.css';\r\nimport {SidebarData} from './SidebarData';\r\nimport SubMenu from './SubMenu';\r\nimport * as FaIcons from 'react-icons/fa';\r\nimport * as AiIcons from 'react-icons/ai';\r\nimport styled from 'styled-components';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { IconContext } from 'react-icons/lib';\r\n\r\n\r\nconst Sidebar = () => {\r\n\r\n\r\n    const [sidebar, setSidebar] = useState(true);\r\n  \r\n    const showSidebar = () => setSidebar(!sidebar);\r\n  \r\n    return (\r\n      <>\r\n        <IconContext.Provider value={{ color: '#fff' }}>\r\n        <div className=\"Nav\">   \r\n          <div className=\"Navicon\">   \r\n            <NavLink to='#'>      \r\n                <FaIcons.FaBars onClick={showSidebar} />\r\n            </NavLink>  \r\n          </div>                            \r\n        </div>\r\n          <SidebarNav sidebar={sidebar}>\r\n          <div className=\"SidebarWrap\">          \r\n            <div className=\"Navicon\">   \r\n              <NavLink to='#'>\r\n                <AiIcons.AiOutlineClose onClick={showSidebar} />\r\n              </NavLink>  \r\n            </div> \r\n              {SidebarData.map((item, index) => {\r\n                return <SubMenu item={item} key={index} />;\r\n              })}\r\n         \r\n            </div> \r\n          </SidebarNav>\r\n        </IconContext.Provider>\r\n      </>\r\n    );\r\n  };\r\n\r\n\r\nconst SidebarNav = styled.nav`\r\n  background: #15171c;\r\n  width: 250px;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0;\r\n  left: ${({ sidebar }) => (sidebar ? '0' : '-100%')};\r\n  transition: 350ms;\r\n  z-index: 10;\r\n`;\r\n\r\n\r\nexport default Sidebar","import React from 'react';\r\nimport Cookies from 'universal-cookie';\r\nimport Sidebar from \"../components/Sidebar\";\r\n\r\n\r\n\r\nfunction Menu(props){\r\n\r\n    //Cookies de inicio de sesión\r\n    const cookies = new Cookies;\r\n\r\n    return(\r\n        <div>\r\n            {/*Cargamos el menú lateral*/}\r\n            <Sidebar />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nfunction Error({mensaje}){\r\n    return(\r\n        <div className=\"card-panel red darken-4 error col s12\">           \r\n            {mensaje}\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Error;","import React, {useState} from 'react';\r\nimport md5 from 'md5';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\nimport '../css/Login.css';\r\nimport Error from \"../components/Error\";\r\nimport { ClassNames } from '@emotion/react';\r\n\r\n\r\nfunction Login(props){\r\n\r\n    const baseUrl=\"https://localhost:44301/api/login\";\r\n    const cookies = new Cookies();\r\n    const [error, guardarError] = useState(false);\r\n\r\n\r\n    const [form, setForm]=useState({\r\n        mail:'',\r\n        password:''\r\n    });\r\n\r\n    const handleChange=e=>{\r\n        console.log(\"dfsdf\") \r\n        const {name, value} = e.target;\r\n        setForm({\r\n            ...form,\r\n            [name]: value\r\n        });\r\n        console.log(form);\r\n    }\r\n\r\n    var componente;\r\n\r\n    const iniciarSesion=async()=>{\r\n        console.log(\"dfsdf\")   \r\n        await axios.get(baseUrl+`/${form.mail}/${form.password}`)\r\n        .then(response=>{    \r\n            console.log(\"dfsdf\")       \r\n            return response.data;\r\n        }).then(response=>{  \r\n            //Usuario y contraseña correctos -> Se entra al menú principal  \r\n            console.log(\"dfsdf\")      \r\n            var respuesta=response[0];\r\n            cookies.set('id', respuesta.id, {path:'/'});\r\n            props.history.push('menu');\r\n        }).catch(error=>{\r\n            //Usuario o contraseña incorrectos\r\n            console.log(\"PRUEBA3\");\r\n            console.log(error);\r\n            //alert('El usuario o la contraseña no son correctos.');\r\n            guardarError(true);            \r\n        })\r\n    }\r\n\r\n    if(error){\r\n        //Mensaje de error\r\n        componente = <Error mensaje='Datos incorrectos.'/>\r\n        console.log(componente);\r\n    }\r\n\r\n    return(\r\n       \r\n        /*<div className=\"containerPrincipal\">\r\n            <div className=\"containerLogin\">\r\n                <div className=\"form-group\">\r\n                    <label>Usuario: </label>\r\n                    <br />\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"mail\"\r\n                        onChange={handleChange}\r\n                    />\r\n\r\n                    <label>Contraseña: </label>\r\n                    <br />\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={()=>iniciarSesion()}>Iniciar sesión</button>\r\n                    \r\n                </div>\r\n                </div>*/\r\n               \r\n               \r\n                /*{componente}\r\n                \r\n        </div>*/\r\n\r\n        <div className=\"form-usuario\">\r\n            <div className=\"contenedor-form sombra-dark\">\r\n                <h1>Iniciar Sesión</h1>\r\n            <form>\r\n                <div className=\"campo-form\">\r\n                    <label htmlFor=\"email\">Usuario: </label>                   \r\n                        <input\r\n                            type=\"email\"\r\n                         \r\n                            name=\"mail\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                    <label htmlFor=\"password\">Contraseña: </label>                   \r\n                        <input\r\n                            type=\"password\"\r\n                       \r\n                            name=\"password\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">               \r\n                        <button className=\"btn btn-primario btn-block\" onClick={()=>iniciarSesion()}>\r\n                            Iniciar Sesión\r\n                        </button>\r\n                    </div>\r\n            </form>\r\n\r\n                \r\n            </div>\r\n\r\n            <div>\r\n            {componente}\r\n        </div>\r\n        </div>\r\n\r\n        \r\n\r\n                \r\n          \r\n           \r\n    )\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport axios  from 'axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Error from \"../components/Error\";\r\nimport '../css/Menu.css';\r\n\r\n\r\nfunction CargarExcel(){\r\n\r\n  const url = \"https://localhost:44301/api/cargaractuaciones\";\r\n\r\n  const config = {\r\n    headers: {\r\n        'content-type': 'multipart/form-data'\r\n    }\r\n}\r\n\r\n  const [archivo, setArchivo]=useState(null);\r\n  const [msgOut, guardarMsgOut] = useState();\r\n  const [msgOutBoolOK, setMsgOutBoolOK] = useState(false);\r\n  const [msgOutBoolKO, setMsgOutBoolKO] = useState(false);\r\n\r\n  const subirArchivos=e=>{\r\n    setArchivo(e);\r\n  }\r\n\r\n  const insertarArchivos=async()=>{\r\n    const f = new FormData();\r\n    console.log(archivo);\r\n    f.append('Fichero',archivo);\r\n    console.log(f);\r\n\r\n    \r\n\r\n    await axios.post(url, f, config)\r\n    .then(response =>{\r\n      console.log(response.data);     \r\n      guardarMsgOut(response.data);\r\n      setMsgOutBoolOK(true);\r\n      setMsgOutBoolKO(false);\r\n      \r\n    }).catch(error=>{\r\n      console.log(\"prueba2\");\r\n      console.log(error);\r\n      guardarMsgOut(error.data);\r\n      setMsgOutBoolKO(true);\r\n      setMsgOutBoolOK(false);\r\n    })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <br/>\r\n        <h1>Importar Actuaciones</h1>\r\n     \r\n        <input type=\"file\" name =\"files\" onChange={(e)=>subirArchivos(e.target.files[0])} />\r\n        \r\n        <button className=\"btn btn-primario\" onClick={()=>insertarArchivos()}>Cargar</button>\r\n       <br/><br/>\r\n       { msgOutBoolOK ? \r\n       <div class=\"alert alert-success\">\r\n          {/*Mostramos mensaje*/}\r\n          {msgOut}\r\n      </div>\r\n      : \"\"}\r\n\r\n      { msgOutBoolKO ? \r\n       <div class=\"alert alert-danger\">\r\n          {/*Mostramos mensaje*/}\r\n          {msgOut}\r\n      </div>\r\n      : \"\"}\r\n      \r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default CargarExcel;","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { Form, Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\r\nimport ReactPaginate from 'react-paginate';\r\nimport '../css/Pagination.css';\r\nimport CargarExcel from \"../components/CargarExcel\";\r\nimport '../css/Menu.css';\r\nimport { Table } from 'react-bootstrap';\r\n\r\n\r\nconst url = \"https://localhost:44301/actuaciones\";\r\n\r\nclass VerActuaciones extends Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      offset: 0,\r\n      tableData: [],\r\n      orgtableData: [],\r\n      perPage: 10,\r\n      currentPage: 0,\r\n      modalInsertat: false\r\n  }\r\n  this.handlePageClick = this.handlePageClick.bind(this);\r\n\r\n  }\r\n  /*state={\r\n    data:[]\r\n  }\r\n\r\n  state={\r\n    tableData: [],\r\n    offset: 0,\r\n    orgtableData: [],\r\n    perPage: 15,\r\n    currentPage: 0\r\n  }*/\r\n\r\n  \r\n\r\n  handlePageClick = (e) => {\r\n    const selectedPage = e.selected;\r\n    const offset = selectedPage * this.state.perPage;\r\n\r\n    this.setState({\r\n        currentPage: selectedPage,\r\n        offset: offset\r\n    }, () => {\r\n        this.loadMoreData()\r\n    });\r\n};\r\n\r\nloadMoreData() {\r\n  const data = this.state.orgtableData;\r\n  \r\n  const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage)\r\n  this.setState({\r\n    pageCount: Math.ceil(data.length / this.state.perPage),\r\n    tableData:slice\r\n  })\r\n}\r\n\r\n    peticionGet=()=>{\r\n        axios.get(url).then(response=>{\r\n\r\n            console.log(response.data);\r\n            \r\n            //this.setState({data: response.data})\r\n\r\n            var data = response.data;\r\n            var slice = data.slice(this.state.offset, this.state.offset + this.state.perPage)\r\n\r\n            this.setState({\r\n              pageCount: Math.ceil(data.length / this.state.perPage),\r\n              orgtableData: response.data,\r\n              tableData: slice\r\n            })\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.peticionGet();\r\n    }\r\n\r\n    modalInsertar=()=>{\r\n      this.setState({modalInsertar: !this.state.modalInsertar});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"App\"> \r\n            \r\n            <button className=\"btn btn-primario\" onClick={()=>{this.setState({form: null, tipoModal: 'insertar'}); this.modalInsertar()}}>Importar Actuación</button>         \r\n          <br /><br />\r\n          <Table responsive=\"xl\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tipo</th>\r\n                  <th>Carretera</th>\r\n                  <th>Clave Obra</th>\r\n                  <th>Fecha</th>\r\n                  <th>Sentido</th>\r\n                  <th>Calzada</th>\r\n                  <th>C. Gestión</th>\r\n                  <th>PK Ini</th>\r\n                  <th>PK Fin</th>\r\n                  <th>€</th>\r\n                  <th>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.state.tableData.map(actuacion=>{\r\n                  return(\r\n                    <tr>\r\n                      <td>{actuacion.idDdTipoActuaciones}</td>\r\n                      <td></td>\r\n                      <td>{actuacion.claveObra}</td>\r\n                      <td>{actuacion.fecha.toLocaleDateString}</td>\r\n                      <td>{actuacion.sentido}</td>\r\n                      <td>{actuacion.calzada}</td>\r\n                      <td>{actuacion.gestion}</td>\r\n                      <td></td>\r\n                      <td></td>\r\n                      <td>{new Intl.NumberFormat(\"es-ES\").format(actuacion.importe)}</td>\r\n                      <td>\r\n                        <button className=\"btn btn-primary\"><FontAwesomeIcon icon={faEdit} size=\"1x\"/></button>\r\n                        {\"  \"}\r\n                        <button className=\"btn btn-danger\"><FontAwesomeIcon icon={faTrashAlt} size=\"1x\"/></button>\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n\r\n              </tbody>\r\n            </Table>\r\n\r\n            <ReactPaginate\r\n                    previousLabel={\"prev\"}\r\n                    nextLabel={\"next\"}\r\n                    breakLabel={\"...\"}\r\n                    breakClassName={\"break-me\"}\r\n                    pageCount={this.state.pageCount}\r\n                    marginPagesDisplayed={2}\r\n                    pageRangeDisplayed={5}\r\n                    onPageChange={this.handlePageClick}\r\n                    containerClassName={\"pagination\"}\r\n                    subContainerClassName={\"pages pagination\"}\r\n                    activeClassName={\"active\"}/>\r\n\r\n\r\n          <Modal isOpen={this.state.modalInsertar}>\r\n                <ModalHeader style={{display: 'block'}}>\r\n                  <span style={{float: 'right'}} onClick={()=>this.modalInsertar()}>x</span>\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                  <CargarExcel/>\r\n                </ModalBody>\r\n\r\n                <ModalFooter>\r\n                  {/*this.state.tipoModal=='insertar'?\r\n                    <button className=\"btn btn-success\" onClick={()=>this.peticionPost()}>\r\n                    Insertar\r\n                  </button>: <button className=\"btn btn-primary\" onClick={()=>this.peticionPut()}>\r\n                    Actualizar\r\n                  </button>*/\r\n                  }\r\n                    {/*<button className=\"btn btn-primario\" onClick={()=>this.props.insertarArchivos}>Importar</button>*/}\r\n                    <button className=\"btn btn-danger\" onClick={()=>this.modalInsertar()}>Cancelar</button>\r\n                </ModalFooter>\r\n          </Modal>\r\n\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default VerActuaciones;\r\n\r\n","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport CargarExcel from \"../components/CargarExcel\";\r\nimport VerActuaciones from \"../components/VerActuaciones\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Col, Row, Form } from \"react-bootstrap\";\r\nimport '../css/Menu.css';\r\n\r\n\r\n\r\nfunction CargarActuaciones(props){\r\n\r\n    return(\r\n      <div>\r\n                 \r\n            <div>\r\n              <Sidebar />\r\n            </div>\r\n            <div style={{marginLeft:'20%'}}>         \r\n              {/*<div>\r\n                <CargarExcel />\r\n              </div>*/}\r\n             \r\n              <div style={{marginRight:'10%', marginTop: '5%'}}> \r\n              <h1>Actuaciones</h1>               \r\n                <VerActuaciones />\r\n              </div>          \r\n        </div>\r\n      </div>\r\n          \r\n\r\n          \r\n       \r\n    );\r\n}\r\n\r\nexport default CargarActuaciones;","import React from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport Menu from '../pages/Menu';\nimport Login from '../pages/Login';\nimport CargarActuaciones from '../pages/CargarActuaciones';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Login}/>\n        <Route exact path=\"/menu\" component={Menu}/>\n        <Route exact path=\"/cargaractuaciones\" component={CargarActuaciones}/>\n      </Switch>\n    </BrowserRouter>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './routes/Routes';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}